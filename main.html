<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ECLIPSE XD V2 | ULTIMATE NEURAL PORTAL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=Inter:wght@400;600&family=Fira+Code:wght@400;500&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --primary: #00f7ff;
            --secondary: #7000ff;
            --success: #25d366;
            --bg-deep: #030712;
            --card-bg: rgba(15, 23, 42, 0.7);
            --text-main: #f1f5f9;
            --text-dim: #94a3b8;
            --glass-border: rgba(255, 255, 255, 0.1);
            --accent-glow: rgba(0, 247, 255, 0.2);
            --neon-shadow: 0 0 15px var(--accent-glow);
        }

        /* --- ADVANCED ANIMATIONS --- */
        @keyframes drift { 0% { transform: translate(0,0); } 50% { transform: translate(10%, 5%); } 100% { transform: translate(0,0); } }
        @keyframes pulse-border { 0% { border-color: var(--glass-border); } 50% { border-color: var(--primary); } 100% { border-color: var(--glass-border); } }
        @keyframes scan { 0% { top: 0; } 100% { top: 100%; } }
        
        /* NEW PAGE TRANSITIONS */
        @keyframes slideInRight { from { transform: translateX(100px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes zoomInUp { from { transform: scale(0.9) translateY(30px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
        @keyframes glitched { 0% { clip-path: inset(0 0 0 0); } 20% { clip-path: inset(10% -6px 80% 0); } 40% { clip-path: inset(50% -6px 30% 0); } 100% { clip-path: inset(0 0 0 0); } }

        * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            overflow-x: hidden;
            line-height: 1.6;
            background-attachment: fixed;
        }

        /* --- NEURAL BACKGROUND --- */
        .bg-glow {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 10% 10%, var(--accent-glow) 0%, transparent 40%),
                        radial-gradient(circle at 90% 90%, rgba(112, 0, 255, 0.1) 0%, transparent 40%);
            z-index: -2;
        }

        .neon-bubble {
            position: fixed; background: var(--primary); border-radius: 50%;
            filter: blur(80px); opacity: 0.05; z-index: -1; animation: drift 20s infinite linear;
        }

        /* --- NAVIGATION --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5%; background: rgba(3, 7, 18, 0.85);
            backdrop-filter: blur(20px); border-bottom: 1px solid var(--glass-border);
            position: sticky; top: 0; z-index: 2000;
        }

        .nav-brand { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            font-weight: 800; font-size: 1.6rem; 
            color: var(--primary); text-shadow: var(--neon-shadow);
        }

        .nav-links { display: flex; gap: 25px; align-items: center; }
        .nav-links a { 
            color: var(--text-dim); text-decoration: none; 
            font-size: 0.85rem; font-weight: 600; transition: 0.3s; 
            text-transform: uppercase; letter-spacing: 1px;
        }
        .nav-links a:hover { color: var(--primary); }

        /* --- ADVANCED HAMBURGER ANIMATION --- */
        .ham-box {
            width: 30px; height: 24px; position: relative; cursor: pointer; display: flex; flex-direction: column; justify-content: space-between;
        }
        .ham-line {
            width: 100%; height: 3px; background: var(--primary); border-radius: 10px; transition: 0.4s cubic-bezier(0.68, -0.6, 0.32, 1.6);
            box-shadow: 0 0 10px var(--accent-glow);
        }
        .ham-box.active .line-1 { transform: translateY(10px) rotate(45deg); }
        .ham-box.active .line-2 { opacity: 0; transform: translateX(-20px); }
        .ham-box.active .line-3 { transform: translateY(-11px) rotate(-45deg); }

        /* --- SIDEBAR --- */
        .sidebar {
            position: fixed; right: -350px; top: 0; width: 350px; height: 100%;
            background: #0a0f1d; border-left: 1px solid var(--glass-border);
            transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); z-index: 3000; 
            padding: 40px 30px;
        }
        .sidebar.active { right: 0; box-shadow: -20px 0 100px rgba(0,0,0,0.9); }

        /* --- CARD SYSTEM --- */
        section { display: none; max-width: 1100px; margin: 50px auto; padding: 0 25px; animation: zoomInUp 0.6s ease-out forwards; }
        section.active { display: block; }

        .card {
            background: var(--card-bg); border: 1px solid var(--glass-border);
            padding: 35px; border-radius: 30px; margin-bottom: 30px;
            backdrop-filter: blur(15px); transition: 0.4s ease;
            position: relative; overflow: hidden;
        }
        .card:hover { border-color: var(--primary); box-shadow: 0 10px 40px rgba(0,0,0,0.3); transform: translateY(-5px); }

        /* --- PAIRING & QR UI --- */
        .pairing-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;
        }

        .qr-frame {
            width: 250px; height: 250px; margin: 0 auto;
            border: 4px solid var(--primary); border-radius: 20px;
            position: relative; background: #fff; padding: 10px;
        }
        .qr-frame::after {
            content: ""; position: absolute; left: 0; width: 100%; height: 4px;
            background: var(--primary); box-shadow: 0 0 15px var(--primary);
            animation: scan 3s infinite linear;
        }

        input[type="tel"], input[type="text"] {
            width: 100%; padding: 20px; background: rgba(0,0,0,0.3);
            border: 2px solid var(--glass-border); color: #fff;
            border-radius: 18px; font-size: 1.1rem; outline: none;
            text-align: center; font-family: 'Fira Code', monospace;
            margin-bottom: 20px; transition: 0.3s;
        }
        input:focus { border-color: var(--primary); box-shadow: var(--neon-shadow); }

        .btn-action {
            width: 100%; padding: 18px; border-radius: 18px; border: none;
            font-weight: 800; cursor: pointer; transition: 0.4s;
            text-transform: uppercase; letter-spacing: 1px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn-pair { background: var(--primary); color: #000; }
        .btn-qr { background: transparent; border: 2px solid var(--primary); color: var(--primary); }
        .btn-pair:hover { background: #fff; transform: translateY(-3px); box-shadow: 0 0 20px var(--primary); }

        /* --- FEATURE GRID --- */
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .feature-item { 
            background: rgba(255,255,255,0.03); padding: 25px; border-radius: 20px;
            border: 1px solid var(--glass-border); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: slideInRight 0.5s ease backwards;
        }
        .feature-item:hover { background: rgba(0, 247, 255, 0.05); transform: scale(1.03); border-color: var(--primary); }
        .feature-item i { font-size: 1.5rem; color: var(--primary); margin-bottom: 15px; display: block; text-shadow: 0 0 10px var(--primary); }

        /* --- TERMINAL --- */
        .terminal {
            background: #020617; color: var(--success); padding: 20px;
            border-radius: 15px; font-family: 'Fira Code', monospace;
            font-size: 0.8rem; height: 250px; overflow-y: auto;
            border: 1px solid var(--glass-border); line-height: 1.4;
        }

        /* --- FOOTER --- */
        footer { padding: 60px 5%; background: #010409; border-top: 1px solid var(--glass-border); margin-top: 100px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .nav-links { display: none; }
            .sidebar { width: 100%; right: -100%; }
        }
    </style>
</head>

<body>

<div class="bg-glow"></div>
<div class="neon-bubble" style="width: 400px; height: 400px; top: -100px; left: -100px;"></div>
<div class="neon-bubble" style="width: 300px; height: 300px; bottom: -50px; right: -50px; background: var(--secondary);"></div>

<div id="sidebar" class="sidebar">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
        <h3 style="color: var(--primary);">SYSTEM CONFIG</h3>
        <i class="fas fa-times" onclick="toggleMenu()" style="cursor:pointer; font-size: 1.5rem;"></i>
    </div>
    
    <div class="feature-item" style="margin-bottom: 20px;">
        <small>Select Theme</small>
        <div id="colorGrid" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 10px;"></div>
    </div>

    <h4 style="margin: 20px 0;">Developer Nodes</h4>
    <div style="display: flex; flex-direction: column; gap: 10px;">
        <a href="https://wa.me/2348172765059" class="btn-action btn-qr" style="font-size: 0.8rem; padding: 12px;">Unknown (Lead)</a>
        <a href="https://wa.me/237681456748" class="btn-action btn-qr" style="font-size: 0.8rem; padding: 12px;">Leo (Dev)</a>
        <a href="https://wa.me/263718036108" class="btn-action btn-qr" style="font-size: 0.8rem; padding: 12px;">Alpha (Admin)</a>
    </div>
</div>

<nav>
    <div class="nav-brand">ECLIPSE <span style="color: #fff;">XD</span></div>
    <div class="nav-links">
        <a href="#" onclick="go('home')">Home</a>
        <a href="#" onclick="go('pair')">Pairing</a>
        <a href="#" onclick="go('qr-mode')">QR Scan</a>
        <a href="#" onclick="go('features')">Features</a>
    </div>
    <div style="display: flex; gap: 15px; align-items: center;">
        <div id="status-tag" style="font-size: 0.7rem; color: var(--success); background: rgba(37, 211, 102, 0.1); padding: 5px 12px; border-radius: 20px; border: 1px solid var(--success);">
            ‚óè SYSTEM LIVE
        </div>
        <div class="ham-box" id="hamMenu" onclick="toggleMenu()">
            <div class="ham-line line-1"></div>
            <div class="ham-line line-2"></div>
            <div class="ham-line line-3"></div>
        </div>
    </div>
</nav>

<section id="home" class="active">
    <div class="card" style="text-align: center; border-top: 5px solid var(--primary);">
        <h1 id="typewriter" style="font-size: 2.8rem; font-family: 'Plus Jakarta Sans'; margin-bottom: 15px;"></h1>
        <p style="color: var(--text-dim); max-width: 700px; margin: 0 auto 30px;">
            The world's most advanced WhatsApp deployment engine. Secure, encrypted, and lightning fast. 
            Experience the next generation of bot management.
        </p>
        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <button class="btn-action btn-pair" style="width: auto; padding: 18px 40px;" onclick="go('pair')">Start Pairing</button>
            <button class="btn-action btn-qr" style="width: auto; padding: 18px 40px;" onclick="go('qr-mode')">Scan QR Code</button>
        </div>
    </div>

    <div class="feature-grid">
        <div class="feature-item" style="animation-delay: 0.1s;">
            <i class="fas fa-bolt"></i>
            <h4>Ultra Speed</h4>
            <p style="font-size: 0.8rem; color: var(--text-dim);">0.01ms response time via optimized WebSocket nodes.</p>
        </div>
        <div class="feature-item" style="animation-delay: 0.2s;">
            <i class="fas fa-shield-virus"></i>
            <h4>Zero Bans</h4>
            <p style="font-size: 0.8rem; color: var(--text-dim);">Built-in proxy rotation and anti-detect headers.</p>
        </div>
        <div class="feature-item" style="animation-delay: 0.3s;">
            <i class="fas fa-cloud"></i>
            <h4>24/7 Uptime</h4>
            <p style="font-size: 0.8rem; color: var(--text-dim);">Automated cloud hosting with self-healing features.</p>
        </div>
    </div>
</section>

<section id="pair">
    <div class="card">
        <div style="text-align: center; margin-bottom: 30px;">
            <h2 style="color: var(--primary);">PAIRING GATEWAY</h2>
            <p style="color: var(--text-dim);">Generate a 8-character link code for your device</p>
        </div>

        <div class="pairing-container">
            <div>
                <label style="font-size: 0.8rem; margin-bottom: 10px; display: block; color: var(--primary);">PHONE NUMBER</label>
                <input type="tel" id="phoneNumber" placeholder="2348172765059">
                <button class="btn-action btn-pair" id="getPairCodeBtn">
                    <i class="fas fa-link"></i> Get Pairing Code
                </button>
                
                <div id="pairResult" style="margin-top: 20px;"></div>
            </div>

            <div class="feature-item" style="background: rgba(0,0,0,0.2);">
                <h4 style="margin-bottom: 15px;"><i class="fas fa-list-check"></i> Steps</h4>
                <ol style="font-size: 0.85rem; padding-left: 20px; color: var(--text-dim);">
                    <li style="margin-bottom: 10px;">Enter number with country code (no +).</li>
                    <li style="margin-bottom: 10px;">Click "Get Pairing Code".</li>
                    <li style="margin-bottom: 10px;">Open WhatsApp > Linked Devices > Link with Phone Number.</li>
                    <li>Enter the code shown on screen.</li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section id="qr-mode">
    <div class="card" style="text-align: center;">
        <h2 style="color: var(--primary);">QR SCANNER PORTAL</h2>
        <p style="color: var(--text-dim); margin-bottom: 30px;">Legacy scan method for instant session establishment</p>
        
        <div id="qr-display-area">
            <div class="qr-frame" id="qrContainer">
                <div style="height: 100%; display: flex; align-items: center; justify-content: center; color: #000;">
                    <i class="fas fa-qrcode fa-5x"></i>
                </div>
            </div>
        </div>

        <button class="btn-action btn-pair" id="genQrBtn" style="max-width: 300px; margin: 30px auto;">
            <i class="fas fa-sync"></i> Refresh QR Code
        </button>
        
        <div id="qr-status" style="margin-top: 15px; font-weight: 600; color: var(--text-dim);">
            Status: Awaiting Signal...
        </div>
    </div>
</section>

<section id="features">
    <div class="card">
        <h2 style="color: var(--primary); margin-bottom: 20px;">SYSTEM CAPABILITIES</h2>
        <div class="feature-grid">
            <div class="feature-item"><i class="fas fa-users-gear"></i><h4>Group Management</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Automated welcome, anti-link, auto-kick, and mass announcement tools.</p></div>
            <div class="feature-item"><i class="fas fa-server"></i><h4>Cloud Hosting</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Distributed cluster with zero-latency synchronization.</p></div>
            <div class="feature-item"><i class="fas fa-brain"></i><h4>Neural Processing</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Integrated AI models for smart replies and image generation.</p></div>
            <div class="feature-item"><i class="fas fa-database"></i><h4>Session Storage</h4><p style="font-size: 0.8rem; color: var(--text-dim);">End-to-end encrypted session IDs stored in secure databases.</p></div>

            <div class="feature-item"><i class="fas fa-robot"></i><h4>Auto-Responder</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Advanced keyword detection for 24/7 automated customer support.</p></div>
            <div class="feature-item"><i class="fas fa-shield-alt"></i><h4>Anti-Delete</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Read revoked messages instantly without notifying the sender.</p></div>
            <div class="feature-item"><i class="fas fa-ghost"></i><h4>Stealth Mode</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Hide online status and blue ticks while fully active.</p></div>
            <div class="feature-item"><i class="fas fa-file-export"></i><h4>Bulk Broadcast</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Send mass media and text to unlimited contacts safely.</p></div>
            <div class="feature-item"><i class="fas fa-music"></i><h4>Voice Conversion</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Convert text to natural human voice messages in multiple languages.</p></div>
            <div class="feature-item"><i class="fas fa-user-check"></i><h4>Auto-Bio</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Dynamic WhatsApp bio that updates with time or status.</p></div>
            <div class="feature-item"><i class="fas fa-chart-line"></i><h4>Traffic Monitor</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Real-time analytics on message flow and bot usage statistics.</p></div>
            <div class="feature-item"><i class="fas fa-search-dollar"></i><h4>E-Commerce</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Integrated payment gateways for selling products via chat.</p></div>
            <div class="feature-item"><i class="fas fa-language"></i><h4>Auto-Translate</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Real-time translation of incoming and outgoing messages.</p></div>
            <div class="feature-item"><i class="fas fa-id-card-alt"></i><h4>VCard Generator</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Instantly create and share digital contact cards.</p></div>
            <div class="feature-item"><i class="fas fa-lock"></i><h4>File Encryptor</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Password protect documents sent through the bot.</p></div>
            <div class="feature-item"><i class="fas fa-gamepad"></i><h4>Mini Games</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Interactive RPG and trivia games built directly into chat.</p></div>
            <div class="feature-item"><i class="fas fa-clock"></i><h4>Message Scheduler</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Plan messages to be sent at specific dates and times.</p></div>
            <div class="feature-item"><i class="fas fa-sync-alt"></i><h4>Multi-Device</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Connect up to 4 devices simultaneously with one session.</p></div>
            <div class="feature-item"><i class="fas fa-microchip"></i><h4>Web Scraper</h4><p style="font-size: 0.8rem; color: var(--text-dim);">Pull data from any website directly into your WhatsApp chat.</p></div>
        </div>
    </div>

    <div class="card">
        <h3>Live System Logs</h3>
        <div class="terminal" id="systemLogs">
            [SYS] Initializing Eclipse XD Engine...<br>
            [SYS] Loading AuthModules...<br>
            [SYS] Connecting to Neural Hub...
        </div>
    </div>
</section>

<footer>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px;">
        <div>
            <h3 style="color: var(--primary);">ECLIPSE XD V2</h3>
            <p style="font-size: 0.8rem; color: var(--text-dim); margin-top: 10px;">
                Advanced WhatsApp automation framework. High performance, modular design, and secure deployment.
            </p>
        </div>
        <div>
            <h4>Quick Links</h4>
            <a href="#" class="btn-qr" style="display: block; border: none; text-align: left; padding: 5px 0;">Documentation</a>
            <a href="#" class="btn-qr" style="display: block; border: none; text-align: left; padding: 5px 0;">API Status</a>
            <a href="https://whatsapp.com/channel/0029Vb65Ggl6RGJQrvOLKj36" class="btn-qr" style="display: block; border: none; text-align: left; padding: 5px 0;">Official Channel</a>
        </div>
    </div>
    <div style="margin-top: 50px; text-align: center; border-top: 1px solid var(--glass-border); padding-top: 20px; font-size: 0.75rem; color: var(--text-dim);">
        &copy; 2026 Eclipse Neural Systems. Developed by Eclipse Team & Malvin Tech.
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    // --- NAVIGATION & UI ---
    function toggleMenu() {
        const sidebar = document.getElementById('sidebar');
        const ham = document.getElementById('hamMenu');
        sidebar.classList.toggle('active');
        ham.classList.toggle('active');
    }

    function go(sectionId) {
        document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
        document.getElementById(sectionId).classList.add('active');
        if (window.innerWidth < 1000) {
            document.getElementById('sidebar').classList.remove('active');
            document.getElementById('hamMenu').classList.remove('active');
        }
        window.scrollTo({top: 0, behavior: 'smooth'});
        logToTerminal(`Navigating to ${sectionId.toUpperCase()} node...`);
    }

    // --- COLOR THEME LOGIC ---
    const themes = ['#00f7ff', '#ff0055', '#7000ff', '#00ff7f', '#ffaa00', '#ffffff', '#ff3333', '#33ff33', '#00cccc', '#ffa500'];
    const colorGrid = document.getElementById('colorGrid');
    themes.forEach(color => {
        const dot = document.createElement('div');
        dot.style.cssText = `width:30px; height:30px; background:${color}; border-radius:8px; cursor:pointer; border:1px solid rgba(255,255,255,0.2);`;
        dot.onclick = () => {
            document.documentElement.style.setProperty('--primary', color);
            document.documentElement.style.setProperty('--accent-glow', color + '33');
            logToTerminal(`Theme updated: ${color}`);
        };
        colorGrid.appendChild(dot);
    });

    // --- TERMINAL LOGGING ---
    const logBox = document.getElementById('systemLogs');
    function logToTerminal(msg) {
        const time = new Date().toLocaleTimeString();
        logBox.innerHTML += `<br><span style="color:#444">[${time}]</span> ${msg}`;
        logBox.scrollTop = logBox.scrollHeight;
    }

    // Simulate Background Activity
    setInterval(() => {
        const activities = [
            "Handshake verified via Node_04",
            "Heartbeat signal sent to relay",
            "Session health: 100%",
            "Cleaning cache... Done",
            "Encrypted tunnel: Active"
        ];
        logToTerminal(activities[Math.floor(Math.random()*activities.length)]);
    }, 8000);

    // --- TYPEWRITER EFFECT ---
    const text = "Neural Link Portal V2";
    let i = 0;
    function type() {
        if (i < text.length) {
            document.getElementById("typewriter").innerHTML += text.charAt(i);
            i++;
            setTimeout(type, 100);
        }
    }
    window.onload = type;

    // --- BACKEND LOGIC (PAIRING) ---
    document.getElementById('getPairCodeBtn').onclick = async () => {
        const num = document.getElementById('phoneNumber').value.trim();
        const resDiv = document.getElementById('pairResult');
        
        if(!num) return alert("Enter number!");

        resDiv.innerHTML = `<i class="fas fa-circle-notch fa-spin"></i> Requesting Code...`;
        logToTerminal(`Requesting pairing code for ${num}`);

        try {
            const { data } = await axios.get(`/code?number=${num.replace(/[^0-9]/g,'')}`);
            resDiv.innerHTML = `
                <div class="card" style="border: 2px solid var(--primary); text-align: center; animation: pulse-border 2s infinite;">
                    <p style="font-size: 0.7rem; color: var(--primary);">YOUR PAIRING CODE</p>
                    <h1 style="letter-spacing: 8px; font-family: 'Fira Code'; margin: 10px 0;">${data.code}</h1>
                    <button class="btn-action btn-pair" style="padding: 10px;" onclick="copyCode('${data.code}')">Copy Code</button>
                </div>
            `;
            logToTerminal(`Code successfully received: ${data.code}`);
        } catch (e) {
            resDiv.innerHTML = `<p style="color: #ff4444;">Server Timeout. Check backend status.</p>`;
            logToTerminal(`Error: Pairing request failed.`);
        }
    };

    // --- QR GENERATION LOGIC ---
    document.getElementById('genQrBtn').onclick = async () => {
        const container = document.getElementById('qrContainer');
        const status = document.getElementById('qr-status');
        
        container.innerHTML = `<i class="fas fa-circle-notch fa-spin fa-3x" style="color:var(--primary)"></i>`;
        status.innerHTML = "Status: Fetching QR Signal...";
        logToTerminal("Initializing QR Session...");

        try {
            const { data } = await axios.get(`/qr`); 
            container.innerHTML = `<img src="${data.qr}" style="width:100%; height:100%; border-radius:10px;">`;
            status.innerHTML = "Status: <span style='color:var(--primary)'>WAITING FOR SCAN</span>";
            logToTerminal("QR Code generated. Awaiting user scan.");
        } catch (e) {
            container.innerHTML = `<i class="fas fa-exclamation-triangle fa-3x" style="color:#ff4444"></i>`;
            status.innerHTML = "Status: Server Offline";
        }
    };

    function copyCode(c) {
        navigator.clipboard.writeText(c);
        alert("Code copied!");
    }
</script>

</body>
</html>
